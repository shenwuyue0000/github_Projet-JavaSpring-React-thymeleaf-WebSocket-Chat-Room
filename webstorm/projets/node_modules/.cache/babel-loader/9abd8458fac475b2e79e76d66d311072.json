{"ast":null,"code":"window.addEventListener(\"load\", function (event) {\n  let pseudo = prompt(\"Veuillez saisir votre pseudo :\");\n  let ws = new WebSocket(\"ws://localhost:8081/testWS/chatserver/\" + pseudo);\n  let txtHistory = document.getElementById(\"history\");\n  let txtMessage = document.getElementById(\"txtMessage\");\n  txtMessage.focus();\n\n  function GetQueryString(name) {\n    var reg = new RegExp(\"(^|&)\" + name + \"=([^&]*)(&|$)\");\n    var r = window.location.search.substr(1).match(reg);\n    if (r != null) return unescape(r[2]);\n    return null;\n  }\n\n  alert(GetQueryString(\"pseudo\"));\n  ws.addEventListener(\"open\", function (evt) {\n    console.log(\"Connection established\");\n  });\n  ws.addEventListener(\"message\", function (evt) {\n    let message = evt.data;\n    console.log(\"Receive new message: \" + message);\n    txtHistory.value += message + \"\\n\";\n  });\n  ws.addEventListener(\"close\", function (evt) {\n    console.log(\"Connection closed\");\n  });\n  let btnSend = document.getElementById(\"btnSend\");\n  btnSend.addEventListener(\"click\", function (clickEvent) {\n    ws.send(txtMessage.value);\n    txtMessage.value = \"\";\n    txtMessage.focus();\n  });\n  let btnClose = document.getElementById(\"btnClose\");\n  btnClose.addEventListener(\"click\", function (clickEvent) {\n    ws.close();\n  });\n});","map":{"version":3,"names":["window","addEventListener","event","pseudo","prompt","ws","WebSocket","txtHistory","document","getElementById","txtMessage","focus","GetQueryString","name","reg","RegExp","r","location","search","substr","match","unescape","alert","evt","console","log","message","data","value","btnSend","clickEvent","send","btnClose","close"],"sources":["E:/webstorm/projets/src/test.js"],"sourcesContent":["window.addEventListener( \"load\", function( event ) {\r\n\r\n    let pseudo = prompt( \"Veuillez saisir votre pseudo :\" );\r\n    let ws = new WebSocket( \"ws://localhost:8081/testWS/chatserver/\" + pseudo );\r\n\r\n    let txtHistory = document.getElementById( \"history\" );\r\n    let txtMessage = document.getElementById( \"txtMessage\" );\r\n    txtMessage.focus();\r\n\r\n    function GetQueryString(name)\r\n    {\r\n        var reg = new RegExp(\"(^|&)\"+ name +\"=([^&]*)(&|$)\");\r\n        var r = window.location.search.substr(1).match(reg);\r\n        if(r!=null)return unescape(r[2]); return null;\r\n    }\r\n    alert(GetQueryString(\"pseudo\"));\r\n\r\n\r\n\r\n    ws.addEventListener( \"open\", function( evt ) {\r\n        console.log( \"Connection established\" );\r\n    });\r\n\r\n    ws.addEventListener( \"message\", function( evt ) {\r\n        let message = evt.data;\r\n        console.log( \"Receive new message: \" + message );\r\n        txtHistory.value += message + \"\\n\";\r\n    });\r\n\r\n    ws.addEventListener( \"close\", function( evt ) {\r\n        console.log( \"Connection closed\" );\r\n    });\r\n\r\n\r\n    let btnSend = document.getElementById( \"btnSend\" );\r\n    btnSend.addEventListener( \"click\", function( clickEvent ) {\r\n        ws.send( txtMessage.value );\r\n        txtMessage.value = \"\";\r\n        txtMessage.focus();\r\n    });\r\n\r\n    let btnClose = document.getElementById( \"btnClose\" );\r\n    btnClose.addEventListener( \"click\", function( clickEvent ) {\r\n        ws.close();\r\n    });\r\n\r\n});"],"mappings":"AAAAA,MAAM,CAACC,gBAAP,CAAyB,MAAzB,EAAiC,UAAUC,KAAV,EAAkB;EAE/C,IAAIC,MAAM,GAAGC,MAAM,CAAE,gCAAF,CAAnB;EACA,IAAIC,EAAE,GAAG,IAAIC,SAAJ,CAAe,2CAA2CH,MAA1D,CAAT;EAEA,IAAII,UAAU,GAAGC,QAAQ,CAACC,cAAT,CAAyB,SAAzB,CAAjB;EACA,IAAIC,UAAU,GAAGF,QAAQ,CAACC,cAAT,CAAyB,YAAzB,CAAjB;EACAC,UAAU,CAACC,KAAX;;EAEA,SAASC,cAAT,CAAwBC,IAAxB,EACA;IACI,IAAIC,GAAG,GAAG,IAAIC,MAAJ,CAAW,UAASF,IAAT,GAAe,eAA1B,CAAV;IACA,IAAIG,CAAC,GAAGhB,MAAM,CAACiB,QAAP,CAAgBC,MAAhB,CAAuBC,MAAvB,CAA8B,CAA9B,EAAiCC,KAAjC,CAAuCN,GAAvC,CAAR;IACA,IAAGE,CAAC,IAAE,IAAN,EAAW,OAAOK,QAAQ,CAACL,CAAC,CAAC,CAAD,CAAF,CAAf;IAAuB,OAAO,IAAP;EACrC;;EACDM,KAAK,CAACV,cAAc,CAAC,QAAD,CAAf,CAAL;EAIAP,EAAE,CAACJ,gBAAH,CAAqB,MAArB,EAA6B,UAAUsB,GAAV,EAAgB;IACzCC,OAAO,CAACC,GAAR,CAAa,wBAAb;EACH,CAFD;EAIApB,EAAE,CAACJ,gBAAH,CAAqB,SAArB,EAAgC,UAAUsB,GAAV,EAAgB;IAC5C,IAAIG,OAAO,GAAGH,GAAG,CAACI,IAAlB;IACAH,OAAO,CAACC,GAAR,CAAa,0BAA0BC,OAAvC;IACAnB,UAAU,CAACqB,KAAX,IAAoBF,OAAO,GAAG,IAA9B;EACH,CAJD;EAMArB,EAAE,CAACJ,gBAAH,CAAqB,OAArB,EAA8B,UAAUsB,GAAV,EAAgB;IAC1CC,OAAO,CAACC,GAAR,CAAa,mBAAb;EACH,CAFD;EAKA,IAAII,OAAO,GAAGrB,QAAQ,CAACC,cAAT,CAAyB,SAAzB,CAAd;EACAoB,OAAO,CAAC5B,gBAAR,CAA0B,OAA1B,EAAmC,UAAU6B,UAAV,EAAuB;IACtDzB,EAAE,CAAC0B,IAAH,CAASrB,UAAU,CAACkB,KAApB;IACAlB,UAAU,CAACkB,KAAX,GAAmB,EAAnB;IACAlB,UAAU,CAACC,KAAX;EACH,CAJD;EAMA,IAAIqB,QAAQ,GAAGxB,QAAQ,CAACC,cAAT,CAAyB,UAAzB,CAAf;EACAuB,QAAQ,CAAC/B,gBAAT,CAA2B,OAA3B,EAAoC,UAAU6B,UAAV,EAAuB;IACvDzB,EAAE,CAAC4B,KAAH;EACH,CAFD;AAIH,CA9CD"},"metadata":{},"sourceType":"module"}